var util = require('util'),
    PhaseManipulator = require("./PhaseManipulator.js"),
    ForEachModulators = require('../codelibs/ForEachModulators.js'),
    modulator = app.values.forEachModulators[1],
    modulatorFn = ForEachModulators[modulator],
    noteTranslation =
        {   perBarIdx: [
                {
                    0: 4,
                    1: 2,
                    2: 3,
                    4: 5,
                    5: 6,
                    6: 4,
                    7: 2,
                    8: 3,
                    9: 5,
                    10: 6
                }
            ]

    };

var PhaseElevator = function () {
    PhaseManipulator.apply(this, arguments);
    this.name = "PhaseElevator";
}

util.inherits(PhaseElevator, PhaseManipulator);

PhaseElevator.prototype.go = function(phs)
{
    this.forEachBar(phs, raiseBar, {}, modulatorFn);
    function raiseBar(br, params)
    {   var idx = params.barIndex;
        _.each(
            br,
            function(nt)
            {
                nt.oct = perBarIndex[barIndex];
            }
        );
    }
}

module.exports = PhaseElevator;
